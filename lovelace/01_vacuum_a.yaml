id: 6 
icon: mdi:robot-vacuum-variant
cards:
#    background: center / cover no-repeat url("/local/lovelace/background/back02.jpg") fixed
    name: Xiaomi Vacuum
    type: horizontal
    cards:   
      - type: custom:card-modder
        card:
          type: picture-elements
          image: /local/lovelace/home/xiaomi_vacuum_04.jpg
          elements:
          - type: image
            entity: input_boolean.vacuum_zone_settings
            tap_action: 
              action: toggle
            hold_action: 
              action: toggle
            image: /local/lovelace/vacuum/map.png
            state_image:
              'on': /local/lovelace/vacuum/map.png
            state_filter:
              'on': brightness(200%) saturate(1.8)
              'off': brightness(80%) saturate(0.8)
            style:
              top: 90%
              left: 65%
              width: 4.5%
          - type: icon
            icon: mdi:information
            tap_action: 
              action: more-info
            entity: vacuum.xiaomi_vacuum
            style:
              top: 90%
              left: 75%
          - type: icon
            icon: mdi:bell-ring
            tap_action: 
              action: call-service
              service: vacuum.locate
            entity: vacuum.xiaomi_vacuum
            style:
              top: 90%
              left: 55%
              "--paper-item-icon-color": rgb(115, 122, 130)
          - type: icon
            tap_action: 
              action: call-service
              service: vacuum.return_to_base
            icon: mdi:home
            entity: vacuum.xiaomi_vacuum
            style:
              top: 90%
              left: 45%
              "--paper-item-icon-color": rgb(115, 122, 130)
          - type: icon
            icon: mdi:play
            tap_action: 
              action: call-service
              service: vacuum.start
            entity: vacuum.xiaomi_vacuum
            style:
              top: 90%
              left: 35%
              "--paper-item-icon-color": rgb(115, 122, 130)
          - type: icon
            icon: mdi:stop
            tap_action: 
              action: call-service
              service: vacuum.stop
            entity: vacuum.xiaomi_vacuum
            style:
              top: 90%
              left: 25%
              "--paper-item-icon-color": rgb(115, 122, 130)
          ## Main Brush ##
          - type: state-label
            entity: sensor.vacuum_main_brush
            style:
              top: 30%
              right: 1%
              color: rgb(255, 255, 255)
              transform: translate(0%,-50%)
              pointer-events: none
              text-shadow: 1px 1px black
              font-size: 90%
              font-weight: bold
              opacity: 0.8
          - type: state-label
            entity: sensor.vacuum_side_brush
            style:
              top: 78%
              right: 1%
              color: rgb(255, 255, 255)
              transform: translate(0%,-50%)
              pointer-events: none
              font-size: 90%
              font-weight: bold
              opacity: 0.8
          - type: state-label
            entity: sensor.vacuum_filter
            style:
              top: 38%
              right: 1%
              color: rgb(255, 255, 255)
              transform: translate(0%,-50%)
              pointer-events: none
              font-size: 90%
              font-weight: bold
              opacity: 0.8
          - type: state-label
            entity: sensor.vacuum_sensor
            style:
              top: 60%
              right: 1%
              color: rgb(255, 255, 255)
              transform: translate(0%,-50%)
              pointer-events: none
              font-size: 90%
              font-weight: bold
              opacity: 0.8
          ## Status ##
          - type: state-label
            entity: sensor.vacuum_status
            style:
              top: 53%
              right: 79%
              color: rgb(255, 255, 255)
              transform: translate(0%,-50%)
              pointer-events: none
              text-shadow: 1px 1px black
              font-size: 90%
              font-weight: bold
              opacity: 0.8

          - type: state-label
            entity: vacuum.xiaomi_vacuum
            style:
              top: 10%
              right: 41%
              color: rgb(255, 255, 255)
              transform: translate(0%,-50%)
              pointer-events: none
              text-shadow: 1px 1px black
              font-size: 148%
              font-weight: bold
              opacity: 0.8              
              
          - type: state-label
            entity: sensor.vacuum_battery
            style:
              top: 34%
              left: 1%
              color: rgb(255, 255, 255)
              transform: translate(0%,-50%)
              pointer-events: none
              font-size: 90%
              font-weight: bold
              opacity: 0.8
          - type: state-label
            entity: sensor.vacuum_cleaning_time
            style:
              top: 87%
              left: 0%
              color: '#ffffff'
              transform: translate(0%,-50%)
              pointer-events: none
              font-size: 80%
              font-weight: bold
          - type: state-label
            entity: sensor.vacuum_cleaned_area
            style:
              top: 81%
              left: 0%
              color: '#ffffff'
              transform: translate(0%,-50%)
              pointer-events: none
              font-size: 80%
              font-weight: bold              
          - type: state-label
            entity: sensor.vacuum_weekdays
            style:
              top: 75%
              left: 1%
              color: rgb(255, 255, 255)
              transform: translate(0%,-50%)
              pointer-events: none
              font-size: 90%
              font-weight: bold
              opacity: 0.8
          - type: state-label
            entity: sensor.vacuum_weekend
            style:
              top: 60%
              left: 1%
              color: rgb(255, 255, 255)
              transform: translate(0%,-50%)
              pointer-events: none
              font-size: 90%
              font-weight: bold
              opacity: 0.8
          - type: image
            entity: automation.vacuum_schedule_cleaning_on_weekdays
            tap_action: 
              action: toggle
            image: /local/lovelace/vacuum/timer-off.png
            state_image:
              'on': /local/lovelace/vacuum/timer.png
            state_filter:
              'on': brightness(200%) saturate(1.8)
              'off': brightness(80%) saturate(0.8)
            style:
              top: 90%
              left: 84%
              width: 4.5%
          - type: image
            entity: automation.vacuum_schedule_cleaning_on_weekends
            tap_action: 
              action: toggle
            image: /local/lovelace/vacuum/timer-off.png
            state_image:
              'on': /local/lovelace/vacuum/timer.png
            state_filter:
              'on': brightness(200%) saturate(1.8)
              'off': brightness(80%) saturate(0.8)
            style:
              top: 90%
              left: 92%
              width: 4.5%
        style:                 
          border-radius: 20px
          border: solid 1px rgba(100,100,100,0.3)
          box-shadow: 3px 3px rgba(0,0,0,0.4)    
          overflow: hidden
          
#################################################################
#                                                               #
#                Vacuum - Start Time Hour Minutes Card          #
#                                                               #
#################################################################
      - type: vertical-stack
        cards:        
          - type: custom:card-modder
            card:
              type: conditional
              conditions:
                - entity: automation.vacuum_schedule_cleaning_on_weekdays
                  state: "on"
              card:
                type: entities
                entities:
                  - sensor.vacuum_start_time_weekdays
                  - input_number.vacuum_start_hour_weekdays
                  - input_number.vacuum_start_minutes_weekdays
            style:                 
              background-image: url("/local/lovelace/background/cardbackk.png")
              background-repeat: no-repeat
              background-color: rgba(50,50,50,0.3)
              background-size: 100% 200px
              border-radius: 20px
              border: solid 1px rgba(100,100,100,0.3)
              box-shadow: 3px 3px rgba(0,0,0,0.4)


#################################################################
#                                                               #
#           Vacuum - Turens on Zone Settings Value Card         #
#                                                               #
#################################################################
          - type: custom:card-modder
            card:
              type: conditional
              conditions:
                - entity: input_boolean.vacuum_zone_settings
                  state: "on"
              card:
                type: vertical-stack
                cards:
                  - type: entities
                    entities:
                      - input_select.vacuum_fan_speed_list
                      - input_number.vacuum_passes
                      - input_select.vacuum_zone 
            style:                 
              background-image: url("/local/lovelace/background/cardbackk.png")
              background-repeat: no-repeat
              background-color: rgba(50,50,50,0.3)
              background-size: 100% 130px
              border-radius: 20px
              border: solid 1px rgba(100,100,100,0.3)
              box-shadow: 3px 3px rgba(0,0,0,0.4)


#################################################################
#                                                               #
#                   Vacuum - Zone Fan Card                      #
#                                                               #
#################################################################
      - type: vertical-stack
        cards:             
          - type: custom:card-modder
            card:
              type: glance
              entities:
                - entity: input_boolean.vacuum_zone_settings
                  name: Zone Settings
                - entity: input_select.vacuum_fan_speed_list
                  name: Fan speed
            style:                 
              background-image: url("/local/lovelace/background/cardbackk.png")
              background-repeat: no-repeat
              background-color: rgba(50,50,50,0.3)
              background-size: 100% 130px
              border-radius: 20px
              border: solid 1px rgba(100,100,100,0.3)
              box-shadow: 3px 3px rgba(0,0,0,0.4)



#################################################################
#                                                               #
#                   Vacuum - INFO Value Card                    #
#                                                               #
#################################################################

          - type: custom:card-modder
            card:
              type: custom:entity-attributes-card
              entity: vacuum.xiaomi_vacuum
              heading_name: Status
              heading_state: Value
              filter:
                include:
                  - key: vacuum.xiaomi_vacuum.cleaning_time
                    name: Cleaning time (last)
                    unit: minutes
                  - key: vacuum.xiaomi_vacuum.cleaned_area
                    name: Clean surface (last)
                    unit: meters
                  - key: vacuum.xiaomi_vacuum.cleaning_count
                    name: Cleaning cycles (total)
                  - key: vacuum.xiaomi_vacuum.total_cleaning_time
                    name: Cleaning time (total)
                    unit: minutes
                  - key: vacuum.xiaomi_vacuum.total_cleaned_area
                    name: Clean surface (total)
                    unit: Area 
            style:                 
              background-image: url("/local/lovelace/background/cardbackk.png")
              background-repeat: no-repeat
              background-color: rgba(50,50,50,0.3)
              background-size: 100% 130px
              border-radius: 20px
              border: solid 1px rgba(100,100,100,0.3)
              box-shadow: 3px 3px rgba(0,0,0,0.4)


#################################################################
#                                                               #
#                   Vacuum - Status Value Card                  #
#                                                               #
#################################################################

          - type: custom:card-modder
            card:
              type: custom:entity-attributes-card
              entity: vacuum.xiaomi_vacuum
              heading_name: Status
              heading_state: Value
              filter:
                include:
                  - key: vacuum.xiaomi_vacuum.do_not_disturb
                    name: Do not disturb
                  - key: vacuum.xiaomi_vacuum.do_not_disturb_start
                    name: Do not disturb start
                  - key: vacuum.xiaomi_vacuum.do_not_disturb_end
                    name: Do not disturb end
            style:                 
              background-image: url("/local/lovelace/background/cardbackk.png")
              background-repeat: no-repeat
              background-color: rgba(50,50,50,0.3)
              background-size: 100% 130px
              border-radius: 20px
              border: solid 1px rgba(100,100,100,0.3)
              box-shadow: 3px 3px rgba(0,0,0,0.4)

